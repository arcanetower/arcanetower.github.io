<!DOCTYPE html>
<html style="height: 100%; margin: 0;">
  <head>
    <title>Eliv Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="scripts/leaflet/leaflet.css">
    <script src="scripts/leaflet/leaflet.js"></script>
  </head>
  <body style="height: 100%; margin: 0;">
    <div id="map" style="width: 100%; height: 100%; background: #888888 margin: 0;"></div>
    <script type="text/javascript">
      var mapSW = [0, 16384],
          mapNE = [16384, 0];

      var map = L.map('map').setView([-11.346192, -83.034668], 6);

        L.tileLayer('maps/world_3/{z}/{x}/{y}.png', {
          minZoom: 0,
          maxZoom: 6,
          noWrap: true,
        }).addTo(map);

        map.setMaxBounds(new L.LatLngBounds(
          map.unproject(mapSW, map.getMaxZoom()),
          map.unproject(mapNE, map.getMaxZoom())
        ));

    //Icons
    var myIcon = L.icon({
      iconUrl: 'markers/town.png',
      iconSize: [205, 155],
      iconAnchor: [102.5, 155],
      popupAnchor: [-3, -76],
      shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
      shadowSize: [68, 95],
      shadowAnchor: [22, 94]
    });

    // create a red polygon from an array of LatLng points
    var shah_state_lines = [[-7.490506, -88.220215],[-11.436623, -88.220215],[-11.630498, -87.60498],[-11.759674, -87.363281],[-11.867274, -87.1875],[-11.953324, -87.143555],[-12.125341, -87.121582],[-12.297247, -87.165527],[-14.073873, -87.165527],[-14.308335, -87.077637],[-14.52127, -86.901855],[-14.606387, -86.682129],[-14.670204, -86.484375],[-14.670204, -86.19873],[-14.542553, -85.935059],[-14.28703, -85.825195],[-13.988554, -85.605469],[-13.924544, -85.407715],[-13.967219, -85.187988],[-14.11652, -84.858398],[-14.180476, -84.79248],[-14.734001, -83.452148],[-14.796165, -83.144531],[-14.753648, -82.814941],[-14.647318, -82.55127],[-14.264105, -82.023926],[-14.008266, -81.650391],[-13.816199, -81.188965],[-13.752142, -80.793457],[-13.709427, -80.244141],[-13.64534, -79.914551],[-13.495737, -79.475098],[-13.239057, -79.035645],[-13.024949, -78.771973],[-12.724888, -78.508301],[-12.574724, -78.376465],[-12.531804, -78.244629],[-12.123708, -78.244629],[-11.693459, -78.310547],[-11.370331, -78.442383],[-11.111564, -78.618164],[-10.96051, -78.442383],[-10.766185, -78.288574],[-10.442032, -78.200684],[-10.095896, -78.178711],[-9.662703, -78.068848],[-9.380827, -77.827148],[-9.250653, -77.497559],[-9.294049, -77.409668],[-8.859843, -76.992188],[-6.98721, -79.650879],[-6.17911, -81.23291]];

    var bertol_state_lines = [[-12.575689, -77.893066],[-12.125193, -77.958984],[-11.759946, -77.958984],[-11.501831, -78.046875],[-11.265018, -78.156738],[-10.984897, -78.112793],[-10.121344, -78.046875],[-9.926716, -78.00293],[-9.710328, -77.871094],[-9.40715, -77.387695],[-9.294049, -77.409668],[-8.859843, -76.992188],[-8.017933, -75.498047],[-8.257066, -74.289551],[-9.602082, -73.54248],[-10.79081, -73.87207],[-10.575011, -74.465332],[-10.553423, -74.772949],[-10.661349, -75.036621]]

    var shah_state = L.polygon(shah_state_lines, {color: 'red'});

    var bertol_state = L.polygon(bertol_state_lines, {color: 'orange'});

    // Markers Shah Provence
      var marker_arcane = L.marker([-14.455958, -83.71582])
        marker_arcane.bindPopup('<img src="images/arcane_tower.jpg" width="300" height="200"><br><h1 style="color:red;font-size:20px;">The Tower of the Arcane Arts</h1><p>The Tower of the Arcane Arts is a bastion for all those seeking to develop their magical abilities. Those who pass the Trial of the Four Pillars are allowed access to the wonders inside.<p>');

      var marker_veritas = L.marker([-14.687857, -83.144531])
        marker_veritas.bindPopup('<img src="images/veritas.jpg" width="300" height="200"><br><h1 style="color:red;font-size:20px;">Veritas</h1><p>Veritas is a port city that is located at the base of a large hill. Sitting within the shadow of the tower that holds the Council of the Arcane Arts, Veritas is a bustling town with a number of buildings and people living within. It has a main road which leads from the port up towards the northern gate. Because it is a port town there are numerous people of varying races residing within. It has a population of about 9,000 people and while there are varying races most are either human or halfling. Exiting out of the town the road curves up and around the hill towards the north then east to an intersection, where travelling south up the hill leads to the tower of the Arcane Arts while travelling north leads to Wingston.<p><br><a href="veritas.html">Town Map</a>');

      var marker_wingston = L.marker([-13.304877, -83.847656])
        marker_wingston.bindPopup('<img src="images/wingston.jpg" width="300" height="200"><br><h1 style="color:red; font-size:20px;">Wingston</h1><p>Wingston is a typical farming village with its sprawled out design and farmsteads Each building is only of a single storey in height save for The Barn located in the centre of the town. Several hours from the town is an apple orchard which is home to about 40 people who help maintain it.<p><br><a href="wingston.html">Town Map</a>')

      var marker_lancaster = L.marker([-12.275444, -85.583496])
          marker_lancaster.bindPopup('<img src="images/lancaster.jpg" width="300" height="200"><br><h1 style="color:red; font-size:20px;">Lancaster</h1><p>Lancaster was once known for its flowers growing and selling many of their wares to the surrounding towns. The flowers were mostly sold for decorations to nobles but also for medical purposes as well as dyes. This, however, came to an end when the town was attacked by bandits and many of its residents were killed save for a handful. This handful was rescued by the tower all being women and children, all who currently reside in Polperro. However reconstruction has started on the town.<p><br><a href="lancaster.html">Town Map</a>')

      var marker_polperro = L.marker([-11.285739, -86.748047])
          marker_polperro.bindPopup('<img src="images/polperro.jpg" width="300" height="200"><br><h1 style="color:red; font-size:20px;">Polperro</h1><p>Polperro has a reputation among the countryside and is known for having tough warriors, the best warriors for the Prusha Empire come from here. It is governed by a group of guild masters rather than a mayor. However, the general of the armies of Polperro has more weight in discussions and while not officially the mayor acts like one. The thick palisade walls stretch up 40-50 feet into the sky, the sharp-pointed wooden spikes have soldiers constantly patrolling.<p><br><a href="polperro.html">Town Map</a>')

      var marker_berxley = L.marker([-11.931814, -81.650391])
          marker_berxley.bindPopup('<img src="images/berxley.jpg" width="300" height="200"><br><h1 style="color:red; font-size:20px;">Polperro</h1><p>Polperro has a reputation among the countryside and is known for having tough warriors, the best warriors for the Prusha Empire come from here. It is governed by a group of guild masters rather than a mayor. However, the general of the armies of Polperro has more weight in discussions and while not officially the mayor acts like one. The thick palisade walls stretch up 40-50 feet into the sky, the sharp-pointed wooden spikes have soldiers constantly patrolling.<p><br><a href="berxley.html">Town Map</a>')

      var marker_bereston = L.marker([-10.270654, -88.022461])
          marker_bereston.bindPopup('<img src="images/bereston.jpeg" width="300" height="200"><br><h1 style="color:red; font-size:20px;">Bereston</h1><p>Bereston is a small village build on stilts in the Bereston marsh. There are four small clusters of houses connected by scaffoldings. Tied to the poles of the scaffolding are little boats they use for fishing close to the city.<p><br><a href="bereston.html">Town Map</a>')

      var marker_hammerton = L.marker([-8.535501, -85.605469])
          marker_hammerton.bindPopup('<img src="images/hammerton.jpg" width="300" height="200"><br><h1 style="color:red; font-size:20px;">Hammerton</h1><p>Hammerton is built into a small valley in the mountains that runs North-South. It is narrow so Hammerton is sometimes called the One Street Town. There is farmland build into the mountainside, but for the most part, it is a rest station for those travelling through the mountains to pass to the north side. Hammerton serves two functions. One an export of ore from the nearby mountain mines. Two it is a gateway rest to the mountain range for those wishing to travel over the mountains to the northern desert.<p><br><a href="hammerton.html">Town Map</a>')

      var marker_watford = L.marker([-14.223104, -85.957031])
          marker_watford.bindPopup('<img src="images/watford.jpeg" width="300" height="200" style="vertical-align:middle"><br><h1 style="color:red; font-size:20px;">Watford</h1><p>The city of Watford was built along the banks of a labyrinth of rivers and is truly an ancient metropolis. Its elegance is matched by the backdrop of lush forests which have helped shape the city to what it is today. The climate these forests brought was of great importance, but they were also influential when it came to architectural designs as the vast majority of buildings have been built with many natural elements to keep in line with the forests. The skyline is packed with soaring skyscrapers and their history seemed to shine more now than ever. Trade is at an all-time high in Watford and it has attracted a lot of attention. Many new cultures have left their mark not just on trade and relations, but also upon the citys identity. What historically was a city of predictability has grown into a fusion of everything and it is this that unites the people to this day. It is this multicultural identity that has truly left its mark. Hundreds of Diners, Taverns, Tea Shops, and Inns offer a plethora of culinary choices for those who feel hungry. There is something for everyone to enjoy nature, libraries, or one of the many recreational venues.<p><br><a href="watford.html">Town Map</a>', {
        maxWidth: 450
      })

      var marker  = L.marker([-11.994986, -83.95752], {
        draggable: true,
      })
        marker.bindPopup('');

      marker.on('dragend', function(e) {
        marker.getPopup().setContent('Clicked' + marker.getLatLng().toString()).openOn(map);
      });

    //Layer Groups
      var lg_towns = L.layerGroup([marker, marker_arcane, marker_veritas, marker_wingston, marker_watford, marker_lancaster, marker_polperro, marker_berxley, marker_bereston, marker_hammerton]);

      var lg_states = L.layerGroup([shah_state,bertol_state])

      var overlays = {
        "Town Markers": lg_towns,
        "States": lg_states,
      }

    // Add Layer Control
      L.control.layers(null, overlays).addTo(map);
    </script>

  </body>
</html>
